# 5.1 数据库Schema

总体信息

数据库名称: weshare

编码: UTF-8MB4

校对规则: utf8mb4_general_ci


以下是“weshare”数据库中各个表的概览及其在系统中的作用：

## 账号/分组/权限相关

### account_emailaddress
描述:

- account_emailaddress 表用于存储与用户账户关联的电子邮箱地址。这包括邮箱地址的验证状态以及是否为主要使用的邮箱地址。

列:
- id: 主键，整型，用于唯一标识每个邮箱记录。
- email: 字符串类型，最大长度254。存储用户的电子邮箱地址。
- verified: 布尔型，用于标记邮箱是否经过验证。
- primary: 布尔型，用于标记是否为用户的主要邮箱地址。
- user_id: 长整型，指向用户表的外键，表示该邮箱地址属于哪个用户。

主键:
- id: 作为表的主键，保证每条记录的唯一性。

表属性:
- 通常情况下，邮箱地址需要在系统中保持唯一性，可以为email字段设置唯一性约束。
- 外键关系应当指向用户表，以便于关联邮箱地址与具体用户。

### account_emailconfirmation
描述:
- account_emailconfirmation 表用于管理电子邮箱验证过程。这包括记录验证的创建时间、发送时间以及一个唯一的验证键。

列:
- id: 主键，整型，用于唯一标识每个邮箱验证记录。
- created: 日期时间类型，记录验证记录被创建的时间。
- sent: 日期时间类型，记录验证邮件被发送的时间。
- key: 字符串类型，最大长度64。用于电子邮件验证过程的唯一键。
- email_address_id: 整型，指向邮箱地址表的外键，表示此验证记录属于哪个邮箱地址。

主键:
- id: 作为表的主键，确保每条验证记录的唯一性。

表属性:

- key字段通常设置为唯一性索引，以确保验证链接的唯一性和有效性。
- 外键email_address_id关联account_emailaddress表，确保每个验证记录都可以正确对应到一个特定的邮箱地址。

### auth_group
描述:
- auth_group 表用于存储用户组信息，用于对一组用户进行权限管理和归类。

列:
- id: 主键，整型，用于唯一标识每个用户组。
- name: 字符串类型，最大长度150。存储用户组的名称。

主键:
- id: 作为表的主键，保证每个用户组的唯一性。

表属性:
- name 字段通常设置为唯一，确保不同用户组之间可以通过唯一名称进行区分。

### auth_group_permissions
描述:
- auth_group_permissions 表用于存储用户组和权限之间的关联信息，用于定义用户组的权限。

列:
- id: 主键，长整型，用于唯一标识每条记录。
- group_id: 整型，外键，指向 auth_group 表，表示权限属于哪个用户组。
- permission_id: 整型，外键，指向 auth_permission 表，表示用户组拥有的权限。

主键:

- id: 作为表的主键，确保每条关联记录的唯一性。

表属性:
- 应建立外键关系，以确保 group_id 和 permission_id 与相应表中的记录正确关联。

### auth_permission
描述:
- auth_permission 表用于存储系统中定义的所有权限信息，包括权限名称和权限代码。

列:
- id: 主键，整型，用于唯一标识每个权限。
- name: 字符串类型，最大长度255。存储权限的描述名称。
- content_type_id: 整型，用于关联权限到特定的模型或应用。
- codename: 字符串类型，最大长度100。存储权限的代码名称，通常用于系统内部识别。

主键:
- id: 作为表的主键，保证每个权限的唯一性。

表属性:
- codename 字段应设置为唯一，以确保权限代码的唯一性。


### lab_user

**lab_user** 表用于存储实验室用户的基本信息，包括用户的认证信息、姓名、联系方式以及用户的系统状态。

列:
- **user_id**: 主键，长整型，用于唯一标识每个用户。
- **password**: 字符串类型，最大长度128。存储用户的加密密码。
- **last_login**: 日期时间类型，记录用户最后一次登录的时间。
- **is_superuser**: 布尔型，标记用户是否为超级用户，具有所有权限。
- **username**: 字符串类型，最大长度150。用户的唯一用户名。
- **first_name**: 字符串类型，最大长度150。用户的名。
- **last_name**: 字符串类型，最大长度150。用户的姓。
- **is_staff**: 布尔型，标记用户是否可以登录到管理后台。
- **is_active**: 布尔型，标记用户账号是否处于活跃状态。
- **date_joined**: 日期时间类型，记录用户创建账号的时间。
- **user_uid**: 字符串类型，最大长度40。用户的唯一标识符，可能用于其他系统集成。
- **tel**: 字符串类型，最大长度40。用户的联系电话。
- **user_rfid_uid**: 字符串类型，最大长度40。用户的RFID标识符。
- **email**: 字符串类型，最大长度150。用户的电子邮件地址。
- **is_deleted**: 布尔型，标记用户是否被软删除，即逻辑删除而非物理删除。

主键:
- **user_id**: 作为表的主键，确保每个用户的唯一性。

---

### lab_user_groups

**lab_user_groups** 表用于存储用户和用户组之间的关联信息，实现用户的分组管理。

列:
- **id**: 主键，长整型，用于唯一标识每条关联记录。
- **user_id**: 长整型，外键，关联到 `lab_user` 表，标识属于哪个用户。
- **group_id**: 整型，外键，关联到 `auth_group` 表，标识用户所属的用户组。

主键:
- **id**: 作为表的主键，确保每条用户与用户组之间的关系的唯一性。

---

### lab_user_user_permissions

**lab_user_user_permissions** 表用于存储用户和权限之间的关联信息，实现用户的权限管理。

列:
- **id**: 主键，长整型，用于唯一标识每条关联记录。
- **user_id**: 长整型，外键，关联到 `lab_user` 表，标识权限属于哪个用户。
- **permission_id**: 整型，外键，关联到 `auth_permission` 表，标识用户拥有的权限。

主键:
- **id**: 作为表的主键，确保每条用户与权限之间的关系的唯一性。

### lab_usergroup

**lab_usergroup** 表用于存储用户群组的信息，每个群组可以包含多个用户。

列:
- **id**: 主键，长整型，用于唯一标识每个用户群组。

主键:
- **id**: 作为表的主键，确保每个用户群组的唯一性。


## Ddjango网站相关

### django_admin_log
描述:
- django_admin_log 表用于记录Django管理界面中的所有操作日志，包括对数据库记录的添加、修改和删除操作。

列:
- id: 主键，整型，用于唯一标识每条日志记录。
- action_time: 日期时间类型，记录操作发生的时间。
- object_id: 长文本类型，可以为空，存储被操作对象的ID。
- object_repr: 字符串类型，最大长度200。存储被操作对象的字符串表示。
- action_flag: 无符号小整型，标识操作的类型（如添加、修改、删除）。
- change_message: 长文本类型，存储操作的具体描述或变更消息。
- content_type_id: 整型，外键，用于关联操作到特定的模型。
- user_id: 长整型，外键，指向执行操作的用户。

主键:
- id: 作为表的主键，确保每条日志记录的唯一性。

表属性:
- 应建立必要的外键关系，确保 content_type_id 和 user_id 与相应的表记录正确关联。
- 记录的 action_flag 可以用来快速识别操作的类型，便于审计和回溯。

### django_content_type
描述:
- django_content_type 表用于存储Django应用中的模型信息，使Django能够通过内容类型识别和引用不同的模型。

列:
- id: 主键，整型，用于唯一标识每个内容类型。
- app_label: 字符串类型，最大长度100。存储模型所属的Django应用的名称。
- model: 字符串类型，最大长度100。存储模型的名称。

主键:
- id: 作为表的主键，保证每个内容类型的唯一性。

表属性:
- app_label 和 model 的组合通常设置为唯一，以确保每个应用中的每个模型在表中只有一个唯一的条目。

### django_migrations
描述:
- django_migrations 表用于记录Django项目的数据库迁移历史。这有助于Django管理数据库的版本控制和迁移状态。

列:
- id: 主键，长整型，用于唯一标识每条迁移记录。
- app: 字符串类型，最大长度255。存储进行迁移的Django应用的名称。
- name: 字符串类型，最大长度255。存储迁移的名称。
- applied: 日期时间类型，记录迁移被应用的时间。

主键:
- id: 作为表的主键，保证每条迁移记录的唯一性。

表属性:
- 这是一个自动由Django管理的表，在进行数据库迁移时自动更新。

### django_session
描述:
- django_session 表用于存储Django项目中的会话数据，用于支持用户会话管理。

列:
- session_key: 字符串类型，最大长度40。作为表的主键，唯一标识每个会话。
- session_data: 长文本类型，存储加密的会话数据。
- expire_date: 日期时间类型，记录会话的过期时间。

主键:
- session_key: 作为表的主键，确保每个会话的唯一性。

表属性:
- expire_date 通常用于会话清理，删除过期的会话记录。

### django_site
描述:
- django_site 表用于存储Django项目中的站点信息，支持多站点配置。

列:
- id: 主键，整型，用于唯一标识每个站点。
- domain: 字符串类型，最大长度100。存储站点的域名。
- name: 字符串类型，最大长度50。存储站点的名称。

主键:
- id: 作为表的主键，保证每个站点的唯一性。

表属性:
- domain 字段通常设置为唯一，以确保每个域名在系统中只对应一个站点。

## 实验室信息相关

### lab_building
描述:
- lab_building 表用于记录实验室或研究设施中楼宇的相关信息，包括名称、缩写以及相关的添加和修改信息。

列:
- id: 主键，长整型，用于唯一标识每个楼宇。
- name: 字符串类型，最大长度40。存储楼宇的名称。
- abbreviation: 字符串类型，最大长度10。楼宇的缩写或代号。
- add_date: 日期时间类型，记录楼宇记录添加的日期和时间。
- mod_date: 日期时间类型，记录楼宇记录最后修改的日期和时间。
- add_user_id: 长整型，记录添加楼宇记录的用户ID。
- mod_user_id: 长整型，记录最后修改楼宇记录的用户ID。

主键:
- id: 作为表的主键，确保每个楼宇的唯一性。


### lab_room

**lab_room** 表用于记录实验室中的房间信息，包括房间名称、缩写、所在楼层及相关的添加和修改信息。

列:
- **id**: 主键，长整型，用于唯一标识每个房间。
- **name**: 字符串类型，最大长度40。房间的名称。
- **abbreviation**: 字符串类型，最大长度10。房间的缩写或代号。
- **floor**: 字符串类型，最大长度10。房间所在的楼层。
- **add_date**: 日期时间类型，记录房间记录添加的日期和时间。
- **mod_date**: 日期时间类型，记录房间记录最后修改的日期和时间。
- **add_user_id**: 长整型，记录添加房间记录的用户ID。
- **building_id**: 长整型，关联的楼宇ID，表示房间所在的楼宇。
- **mod_user_id**: 长整型，记录最后修改房间记录的用户ID。

主键:
- **id**: 作为表的主键，确保每个房间的唯一性。

### lab_floor

**lab_floor** 表用于记录楼层的信息，主要用于建筑物内部导航或定位。

列:
- **id**: 主键，长整型，用于唯一标识每个楼层。
- **name**: 字符串类型，最大长度5。存储楼层的名称或编号。

主键:
- **id**: 作为表的主键，确保每个楼层的唯一性。


### lab_cabinet
描述:
- lab_cabinet 表用于记录实验室中储物柜的相关信息，如名称、所在楼宇和房间、以及相关的添加和修改信息。

列:
- id: 主键，长整型，用于唯一标识每个储物柜。
- name: 字符串类型，最大长度40。存储储物柜的名称。
- abbreviation: 字符串类型，最大长度10。储物柜的缩写或代号。
- add_date: 日期时间类型，记录储物柜记录添加的日期和时间。
- mod_date: 日期时间类型，记录储物柜记录最后修改的日期和时间。
- add_user_id: 长整型，记录添加储物柜记录的用户ID。
- building_id: 长整型，关联的楼宇ID，表示储物柜所在的楼宇。
- mod_user_id: 长整型，记录最后修改储物柜记录的用户ID。
- room_id: 长整型，关联的房间ID，表示储物柜所在的具体房间。

主键:
- id: 作为表的主键，确保每个储物柜的唯一性。

### lab_collection
描述:
- lab_collection 表用于管理用户的收藏集，如实验记录、数据集等的个人收藏，以及是否为私有收藏。

列:
- collection_id: 主键，长整型，用于唯一标识每个收藏集。
- owner_id: 长整型，收藏集所有者的用户ID。
- collection_content: 字符串类型，最大长度50。描述收藏集的内容。
- collection_description: 字符串类型，最大长度50。收藏集的描述。
- is_private: 布尔型，标记收藏集是否为私有。
- created_datetime: 日期时间类型，记录收藏集创建的时间。

主键:
- collection_id: 作为表的主键，确保每个收藏集的唯一性

### lab_collectrecord
描述:
- lab_collectrecord 表用于记录用户的收藏行为历史，包括收藏的时间和收藏的具体对象。

列:
- record_id: 主键，长整型，用于唯一标识每条收藏记录。
- user_id: 长整型，记录进行收藏的用户ID。
- collection_id: 字符串类型，最大长度50。收藏的集合ID。
- collect_table: 字符串类型，最大长度50。被收藏的数据所在的表名称。
- collect_item_id: 长整型，被收藏的具体项的ID。
- collect_time: 日期时间类型，记录进行收藏的

主键:
- record_id: 作为表的主键，确保每个收藏记录的唯一性。

### lab_device
lab_device 表用于记录实验室中设备的详细信息，包括设备名称、序列号、固件版本、MAC地址，以及相关的添加和修改信息。此外，还包括设备的位置信息，如所在楼宇、储物柜和房间。

列:
- id: 主键，长整型，用于唯一标识每个设备。
- name: 字符串类型，最大长度40。存储设备的名称。
- sn: 字符串类型，最大长度40。设备的序列号。
- fv: 字符串类型，最大长度20。设备的固件版本。
- mac: 字符串类型，最大长度40。设备的MAC地址。
- add_date: 日期时间类型，记录设备记录添加的日期和时间。
- mod_date: 日期时间类型，记录设备记录最后修改的日期和时间。
- add_user_id: 长整型，记录添加设备记录的用户ID。
- building_id: 长整型，关联的楼宇ID，表示设备所在的楼宇。
- cabinet_id: 长整型，关联的储物柜ID，表示设备所在的具体储物柜。
- mod_user_id: 长整型，记录最后修改设备记录的用户ID。
- room_id: 长整型，关联的房间ID，表示设备所在的具体房间。

主键:
- id: 作为表的主键，确保每个设备的唯一性。

表属性:
- 设备名称 (name)、序列号 (sn)、固件版本 (fv) 和 MAC 地址 (mac) 应根据实验室设备管理需求详细记录。
- 设备的位置信息 (building_id, cabinet_id, room_id) 应正确关联到相应的楼宇、储物柜和房间，以确保设备的准确定位和管理。
- 添加和修改信息 (add_date, mod_date, add_user_id, mod_user_id) 用于跟踪设备信息的变更历史。


### lab_emailtemplate

**lab_emailtemplate** 表用于存储和管理电子邮件模板信息，这包括模板归属的分组、文件路径以及模板状态。

列:
- **template_id**: 主键，长整型，用于唯一标识每个电子邮件模板。
- **template_group**: 字符串类型，最大长度20。用于分类电子邮件模板。
- **template_path**: 字符串类型，最大长度255。存储电子邮件模板文件的路径。
- **template_status**: 长二进制类型（longblob），存储模板的状态信息，可能包含是否启用模板等状态信息。

主键:
- **template_id**: 作为表的主键，确保每个电子邮件模板的唯一性。

表属性:
- 应保证模板路径 (**template_path**) 的正确性和唯一性，以便正确加载电子邮件模板。
- 模板状态 (**template_status**) 需要适当的编码和解码机制来处理模板的状态数据。

---

### lab_emqxclientevents

**lab_emqxclientevents** 表用于记录来自EMQX客户端的事件，这有助于跟踪设备和应用程序的交互情况。

列:
- **id**: 主键，长整型，用于唯一标识每个事件。
- **clientid**: 字符串类型，最大长度255。表示产生事件的客户端标识符。
- **event**: 字符串类型，最大长度255。描述发生的事件类型。
- **created_at**: 日期时间类型，记录事件发生的具体时间。

主键:
- **id**: 作为表的主键，确保每个事件记录的唯一性。

表属性:
- 客户端标识符 (**clientid**) 与事件类型 (**event**) 结合，用于分析和识别特定客户端的行为模式。
- 记录的创建时间 (**created_at**) 对于事件追踪和历史分析非常重要。

---

### lab_emqxmessage

**lab_emqxmessage** 表用于存储通过EMQX传递的消息内容，包括消息来源、主题和载荷。

列:
- **id**: 主键，长整型，用于唯一标识每条消息。
- **clientid**: 字符串类型，最大长度255。表示发送消息的客户端标识符。
- **topic**: 字符串类型，最大长度255。消息的主题。
- **payload**: 长二进制类型（longblob），存储消息的内容。
- **created_at**: 日期时间类型，记录消息创建的具体时间。

主键:
- **id**: 作为表的主键，确保每条消息的唯一性。

表属性:
- 消息的客户端标识符 (**clientid**) 和主题 (**topic**) 对于消息的分类和筛选非常关键。
- 消息载荷 (**payload**) 需要适当的解析机制来处理不同格式的消息内容。
- 消息的创建时间 (**created_at**) 对于跟踪消息传递和处理过程非常重要。


---

### lab_note

**lab_note** 表用于存储用户个人笔记信息，包括笔记的创建和更新时间戳、标题和内容。

列:
- **note_id**: 主键，长整型，用于唯一标识每条笔记。
- **user_id**: 长整型，与用户表的外键关联，标识笔记的所有者。
- **created_datetime**: 日期时间类型，记录笔记创建的具体时间。
- **updated_datetime**: 日期时间类型，记录笔记最后更新的具体时间。
- **title**: 字符串类型，最大长度150。笔记的标题。
- **note_content**: 长文本类型。存储笔记的详细内容。

主键:
- **note_id**: 作为表的主键，确保每条笔记的唯一性。

---

### lab_notification

**lab_notification** 表用于管理用户通知，包括通知类型、关联的实验设备或样品及其创建和更新时间等。

列:
- **notice_id**: 主键，长整型，用于唯一标识每个通知。
- **xtray_id**: 长整型，关联的实验托盘ID。
- **user_id**: 长整型，通知所属的用户ID。
- **group_id**: 长整型，关联的用户组ID。
- **vessel_id**: 长整型，关联的实验容器ID。
- **notice_type**: 字符串类型，最大长度20。通知的类型。
- **is_deleted**: 布尔型，标记通知是否已被删除。
- **updated_datetime**: 日期时间类型，记录通知最后更新的时间。
- **created_datetime**: 日期时间类型，记录通知创建的时间。

主键:
- **notice_id**: 作为表的主键，确保每个通知的唯一性。

---

### lab_purchaserecord

**lab_purchaserecord** 表用于记录实验室的采购信息，包括物品的目录编号、单位、数量等。

列:
- **record_id**: 主键，长整型，用于唯一标识每条采购记录。
- **cat_number**: 字符串类型，最大长度40。物品的目录编号。
- **unit**: 字符串类型，最大长度10。采购物品的单位。
- **amount**: 双精度浮点型。采购物品的数量。

主键:
- **record_id**: 作为表的主键，确保每条采购记录的唯一性。


### lab_rawrequest

**lab_rawrequest** 表用于存储实验室的原始请求数据，包括请求关联的实验记录和实验托盘，以及请求的具体内容和创建时间。

列:
- **request_id**: 主键，长整型，用于唯一标识每个请求。
- **record_ptr_id**: 长整型，关联的实验记录指针ID。
- **xtray_id**: 长整型，关联的实验托盘ID。
- **request_data**: JSON类型，存储请求的具体数据内容。
- **created_datetime**: 日期时间类型，记录请求创建的具体时间。

主键:
- **request_id**: 作为表的主键，确保每个请求的唯一性。

---

### lab_record

**lab_record** 表用于记录实验室的各项记录信息，包括记录名称及其添加和修改的时间。

列:
- **id**: 主键，长整型，用于唯一标识每条记录。
- **name**: 字符串类型，最大长度40。记录的名称。
- **add_date**: 日期时间类型，记录添加的日期和时间。
- **mod_date**: 日期时间类型，记录最后修改的日期和时间。

主键:
- **id**: 作为表的主键，确保每条记录的唯一性。

---


---

### lab_template

**lab_template** 表用于存储实验室的模板信息，包括模板名称及其添加和修改的时间。

列:
- **id**: 主键，长整型，用于唯一标识每个模板。
- **name**: 字符串类型，最大长度40。模板的名称。
- **add_date**: 日期时间类型，记录模板添加的日期和时间。
- **mod_date**: 日期时间类型，记录模板最后修改的日期和时间。

主键:
- **id**: 作为表的主键，确保每个模板的唯一性。

---

### lab_vessel

**lab_vessel** 表用于记录实验室中化学容器的详细信息，包括容器的RFID标识、化学物质信息、购买和到期时间以及重量等。

列:
- **vessel_id**: 主键，长整型，用于唯一标识每个容器。
- **vessel_rfid_uid**: 字符串类型，最大长度40。容器的RFID标识符。
- **vessel_info_id**: 长整型，关联的实验室药品ID。
- **purchase_datetime**: 日期时间类型，记录容器购买的时间。
- **expire_datetime**: 日期时间类型，记录容器到期的时间。
- **last_weight**: 小数类型，记录容器最后一次称重的重量。
- **full_weight**: 小数类型，记录容器满重量。
- **is_ontray**: 布尔型，标记容器是否在托盘上。
- **is_deleted**: 布尔型，标记容器是否被删除。
- **add_date**: 日期时间类型，记录容器添加的时间。
- **mod_date**: 日期时间类型，记录容器最后修改的时间。
- **add_user_id**: 长整型，记录添加容器记录的用户ID。
- **mod_user_id**: 长整型，记录最后修改容器记录的用户ID。
- **xtray_id**: 长整型，关联的实验托盘ID。

主键:
- **vessel_id**: 作为表的主键，确保每个容器的唯一性。

---

### lab_vesselinfo

**lab_vessel** 表用于存储实验室容器保存的化学药品信息，包括CAS号，化学物质名称，缓冲剂，浓度和品牌名称。

列:
- **id**: 主键，长整型，用于唯一标识每个药品信息。
- **cas**: 字符串类型，最大长度40。化学物质的CAS号。
- **chemical_name**: 字符串类型，最大长度150。化学物质的名称。
- **buffer**: 字符串类型，最大长度40。化学物质的缓冲剂。
- **concentration**: 字符串类型，最大长度40。化学物质的浓度。
- **brand_name**: 字符串类型，最大长度40。化学物质的品牌名称。
- **add_date**: 日期时间类型，记录药品信息添加的时间。
- **mod_date**: 日期时间类型，记录药品信息最后修改的时间。
- **add_user_id**: 长整型，记录添加药品信息的用户ID。
- **mod_user_id**: 长整型，记录最后修改药品信息的用户ID。

主键:
- **id**: 作为表的主键，确保每个药品信息的唯一性。

---

### lab_vesselactionrecord

**lab_vesselactionrecord** 表用于记录容器相关操作的详细信息，如加入、取出化学物质的行为记录。

列:
- **record_ptr_id**: 主键，长整型，用于唯一标识每条操作记录。
- **vessel_id**: 长整型，关联的容器ID。
- **action_type**: 字符串类型，最大长度20。记录操作的类型。
- **weight**: 小数类型，记录操作时容器的重量。
- **created_datetime**: 日期时间类型，记录操作创建的时间。
- **created_user_id**: 长整型，记录进行操作的用户ID。

主键:
- **record_ptr_id**: 作为表的主键，确保每条操作记录的唯一性。

---

### lab_vesseldailyweightrecord

**lab_vesseldailyweightrecord** 表用于记录容器每日的重量变化，有助于追踪化学物质的使用情况。

列:
- **id**: 主键，长整型，用于唯一标识每条重量记录。
- **vessel_id**: 长整型，关联的容器ID。
- **vessel_weight**: 小数类型，记录容器当天的重量。
- **created_datetime**: 日期时间类型，记录重量记录创建的时间。

主键:
- **id**: 作为表的主键，确保每条重量记录的唯一性。


### lab_vesselgroupsrelation

**lab_vesselgroupsrelation** 表用于建立容器与用户群组之间的关系，允许将特定的容器分配给不同的用户群组。

列:
- **id**: 主键，长整型，用于唯一标识每个容器与群组的关联。
- **vessel_id**: 长整型，指向 `lab_vessel` 表的外键，标识关联的容器。
- **group_id**: 长整型，指向 `auth_group` 表的外键，标识关联的用户群组。

主键:
- **id**: 作为表的主键，确保每个容器与群组之间的关联关系的唯一性。

---

### lab_xtray

**lab_xtray** 表用于存储实验室托盘设备的信息，包括托盘的唯一标识符、序列号、版本以及实时状态，如重量、温度、湿度和在线状态。

列:
- **xtray_id**: 主键，长整型，用于唯一标识每个托盘。
- **xtray_uid**: 字符串类型，最大长度40。托盘的唯一标识符。
- **xtray_sn**: 字符串类型，最大长度40。托盘的序列号。
- **xtray_version**: 字符串类型，最大长度40。托盘的硬件或软件版本。
- **last_weight**: 小数类型，记录托盘最后一次称重的重量。
- **temp**: 双精度浮点型，记录托盘的温度。
- **humi**: 双精度浮点型，记录托盘的湿度。
- **online_status**: 布尔型，标记托盘是否在线。
- **location_name**: 字符串类型，最大长度40。托盘的位置名称。
- **position_name**: 字符串类型，最大长度40。托盘的具体位置或位置编号。
- **is_deleted**: 布尔型，标记托盘是否被逻辑删除。
- **updated_datetime**: 日期时间类型，记录托盘信息最后更新的时间。
- **created_datetime**: 日期时间类型，记录托盘创建的时间。
- **created_user_id**: 长整型，记录创建托盘记录的用户ID。
- **updated_user_id**: 长整型，记录最后更新托盘记录的用户ID。

主键:
- **xtray_id**: 作为表的主键，确保每个托盘的唯一性。

---

### lab_xtraygroupsrelation

**lab_xtraygroupsrelation** 表用于建立托盘与用户群组之间的关系，允许将特定的托盘分配给不同的用户群组。

列:
- **id**: 主键，长整型，用于唯一标识每个托盘与群组的关联。
- **xtray_id**: 长整型，指向 `lab_xtray` 表的外键，标识关联的托盘。
- **group_id**: 长整型，指向 `auth_group` 表的外键，标识关联的用户群组。

主键:
- **id**: 作为表的主键，确保每个托盘与群组之间的关联关系的唯一性。

## 第三方登录相关

### social_auth_association

**social_auth_association** 表用于存储社交认证过程中的关联数据，通常用于OpenID Connect等协议。

列:
- **id**: 主键，长整型，用于唯一标识每个关联。
- **server_url**: 字符串类型，最大长度255。关联的服务器URL。
- **handle**: 字符串类型，最大长度255。关联的句柄。
- **secret**: 字符串类型，最大长度255。用于认证的密钥。
- **issued**: 整型。关联数据发行的时间戳。
- **lifetime**: 整型。关联的生命周期。
- **assoc_type**: 字符串类型，最大长度64。关联的类型。

主键:
- **id**: 作为表的主键，确保每个社交认证关联的唯一性。

---

### social_auth_code

**social_auth_code** 表用于存储社交认证过程中生成的一次性代码，通常用于邮箱验证等过程。

列:
- **id**: 主键，长整型，用于唯一标识每个认证代码。
- **email**: 字符串类型，最大长度254。与代码相关联的电子邮件地址。
- **code**: 字符串类型，最大长度32。生成的一次性认证代码。
- **verified**: 布尔型。标记代码是否已被验证。
- **timestamp**: 日期时间类型。代码生成的时间戳。

主键:
- **id**: 作为表的主键，确保每个认证代码的唯一性。

---

### social_auth_nonce

**social_auth_nonce** 表用于存储社交认证过程中使用的随机数（nonce），通常用于避免重放攻击。

列:
- **id**: 主键，长整型，用于唯一标识每个随机数。
- **server_url**: 字符串类型，最大长度255。随机数关联的服务器URL。
- **timestamp**: 整型。随机数生成的时间戳。
- **salt**: 字符串类型，最大长度65。用于生成随机数的盐值。

主键:
- **id**: 作为表的主键，确保每个随机数的唯一性。

---

### social_auth_partial

**social_auth_partial** 表用于存储社交认证过程中的部分数据，这些数据可能会在认证流程的不同步骤间传递。

列:
- **id**: 主键，长整型，用于唯一标识每个部分数据。
- **token**: 字符串类型，最大长度32。部分数据的标识符。
- **next_step**: 无符号小整型。定义认证流程的下一步操作。
- **backend**: 字符串类型，最大长度32。处理认证的后端。
- **data**: 长文本类型。存储部分数据的具体内容。
- **timestamp**: 日期时间类型。数据创建的时间戳。

主键:
- **id**: 作为表的主键，确保每个部分数据的唯一性。

### social_auth_usersocialauth

**social_auth_usersocialauth** 表用于存储用户的社交认证信息，包括使用的服务提供商、用户标识和额外数据。

列:
- **id**: 主键，长整型，用于唯一标识每条社交认证信息。
- **provider**: 字符串类型，最大长度32。表示社交认证服务提供商。
- **uid**: 字符串类型，最大长度255。用户在服务提供商处的唯一标识。
- **extra_data**: 长文本类型。存储从服务提供商获取的额外用户信息。
- **user_id**: 长整型，指向用户表的外键，关联到本地用户账号。
- **created**: 日期时间类型，记录社交认证信息的创建时间。
- **modified**: 日期时间类型，记录社交认证信息的最后修改时间。

主键:
- **id**: 作为表的主键，确保每条社交认证信息的唯一性。

---

### socialaccount_socialaccount

**socialaccount_socialaccount** 表用于存储用户的社交账号信息，包括登录数据和额外的账号信息。

列:
- **id**: 主键，整型，用于唯一标识每个社交账号。
- **provider**: 字符串类型，最大长度30。表示社交账号服务提供商。
- **uid**: 字符串类型，最大长度191。用户在服务提供商处的唯一标识。
- **last_login**: 日期时间类型，记录用户最后一次使用社交账号登录的时间。
- **date_joined**: 日期时间类型，记录社交账号与本地账号关联的时间。
- **extra_data**: 长文本类型，存储额外的社交账号信息。
- **user_id**: 长整型，指向用户表的外键，关联到本地用户账号。

主键:
- **id**: 作为表的主键，确保每个社交账号的唯一性。

---

### socialaccount_socialapp

**socialaccount_socialapp** 表用于存储社交应用的信息，包括应用的名称、客户端ID和密钥。

列:
- **id**: 主键，整型，用于唯一标识每个社交应用。
- **provider**: 字符串类型，最大长度30。表示社交应用服务提供商。
- **name**: 字符串类型，最大长度40。社交应用的名称。
- **client_id**: 字符串类型，最大长度191。社交应用的客户端ID。
- **secret**: 字符串类型，最大长度191。社交应用的客户端密钥。
- **key**: 字符串类型，最大长度191。社交应用的其他关键信息。

主键:
- **id**: 作为表的主键，确保每个社交应用的唯一性。

---

### socialaccount_socialapp_sites

**socialaccount_socialapp_sites** 表用于建立社交应用和站点之间的关系。

列:
- **id**: 主键，长整型，用于唯一标识每个关系。
- **socialapp_id**: 整型，指向 `socialaccount_socialapp` 表的外键，标识关联的社交应用。
- **site_id**: 整型，指向站点表的外键，标识关联的站点。

主键:
- **id**: 作为表的主键，确保每个应用与站点之间的关系的唯一性。

---

### socialaccount_socialtoken

**socialaccount_socialtoken** 表用于存储用户的社交账号令牌信息，包括令牌内容和过期时间。

列:
- **id**: 主键，整型，用于唯一标识每个社交令牌。
- **token**: 长文本类型，存储社交账号的访问令牌。
- **token_secret**: 长文本类型，存储社交账号的


{/* 

### lab_user
存储用户的基本信息，如用户名、密码和邮箱等，是系统中用户相关操作的核心表。

### lab_building
存储楼宇信息，通常用于标识实验室、办公室或其他设施的位置。

### lab_cabinet
存储关于实验室储物柜的信息，如所属楼宇、位置等。

### lab_collection
管理用户的收藏信息，如实验记录、数据集等的个人收藏。

### lab_collectrecord
记录用户收藏行为的历史记录，包括收藏的时间和收藏的对象。

### lab_dailyactionrecord
用于记录用户每日的活动，如登录、实验数据输入等。

### lab_device
记录实验室内设备的详细信息，包括设备名称、型号、位置等。

### lab_emailtemplate
存储电子邮件模板，用于发送系统通知或用户通信。

### lab_emqxclientevents
记录来自EMQX客户端的事件，通常用于物联网或设备连接场景。

### lab_emqxmessage
存储通过EMQX传输的消息，通常与物联网设备通信有关。

### lab_floor
记录楼层信息，用于建筑物内部导航或定位。

### lab_note
提供用户笔记功能，允许存储和检索个人笔记或备注。

### lab_notification
管理用户通知，如系统消息、任务提醒等。

### lab_purchaserecord
记录采购信息，包括采购物品、数量和价格等。

### lab_rawrequest
存储原始请求数据，通常用于日志或数据审计。

### lab_record
记录实验室的通用记录信息，可能包括实验、测试结果等。

### lab_room
详细描述实验室或办公室的房间信息，如所在楼层和建筑。

### lab_template
存储模板信息，用于生成标准文档或报告。

### lab_user_groups
关联用户和群组，定义用户所属的群组。

### lab_user_user_permissions
关联用户和权限，定义用户的特定权限。

### lab_usergroup
定义用户群组，用于管理一组用户的集合。

### lab_vessel
记录实验室容器（如试管、烧杯）的信息。

### lab_vesselinfo
存储实验室容器保存的化学药品信息。

### lab_vesselactionrecord
记录与实验容器相关的操作，如添加、移除化学品。

### lab_vesseldailyweightrecord
记录容器每日的重量变化，用于跟踪化学品的使用量。

### lab_vesselgroupsrelation
定义容器和群组之间的关系，用于管理容器的访问权限。

### lab_xtray
存储实验室托盘设备的信息，包括设备标识、型号和状态等，常用于物品存储和管理。

### lab_xtraygroupsrelation
记录托盘和群组之间的关系，用于设定不同用户组对托盘设备的访问权限。

### social_auth_association
存储社交认证信息，支持通过社交网络进行用户认证。

### social_auth_code
用于社交登录过程中的安全验证，记录验证码和状态。

### social_auth_nonce
存储一次性使用的随机数（Nonce），用于社交登录过程中的请求验证。

### social_auth_partial
管理社交登录的部分流程，如多步骤验证或数据收集。

### social_auth_usersocialauth
记录用户的社交账号关联信息，支持用户通过社交网络账号登录系统。

### socialaccount_socialaccount
管理用户的社交账户信息，包括提供商和用户在提供商那里的唯一标识。

### socialaccount_socialapp
存储系统中配置的社交应用信息，如应用ID和密钥。

### socialaccount_socialapp_sites
关联社交应用与站点，用于定义哪些社交应用在当前站点上可用。

### socialaccount_socialtoken
记录社交应用的访问令牌信息，包括令牌值和过期时间。

# 表单细节

### account_emailaddress
描述:
存储与用户账户关联的电子邮箱地址。这个表主要用于在用户认证过程中验证邮箱的合法性和唯一性。

列:
- id: 主键，自增整数。
- email: 电子邮箱地址，必须唯一。
- verified: 布尔值，表示电子邮件是否已通过验证。
- primary: 布尔值，表示这是否为用户的主要电子邮件地址。
- user_id: 关联的用户ID，外键，指向 lab_user 表。

关系:
- 与 lab_user 表通过 user_id 建立外键关系，每个电子邮件地址关联一个用户。

### account_emailconfirmation
描述:
用于管理电子邮箱验证流程，包括记录邮箱验证时使用的唯一确认键和验证状态。

列:
- id: 主键，自增整数。
- created: 验证记录创建的时间戳。
- sent: 验证邮件发送的时间戳。
- key: 用于电子邮件验证的唯一确认键。
- email_address_id: 与 account_emailaddress 表的外键关联。

关系:
- 与 account_emailaddress 表通过 email_address_id 建立外键关系，将邮件确认信息与具体的邮件地址关联起来。
### auth_group
描述:
定义了系统中的用户群组。这些群组用于批量管理用户权限，以便于大规模的权限控制和分配。

列:
- id: 主键，自增整数。
- name: 群组的名称，必须唯一。

关系:
- 通常与 auth_group_permissions 表关联，用于定义群组的权限。
### auth_group_permissions
描述:
是一个关联表，用于定义系统中群组和权限之间的关系。通过这个表，可以为不同的群组设置不同的权限。

列:
- id: 主键，自增长整数。
- group_id: 群组ID，外键，指向 auth_group 表。
- permission_id: 权限ID，外键，指向 auth_permission 表。

关系:
- 与 auth_group 表通过 group_id 建立外键关系。
- 与 auth_permission 表通过 permission_id 建立外键关系。
### auth_permission
描述:
列出了系统中所有可用的权限项。这些权限可分配给个人用户或用户群组，用于控制对系统资源的访问。

列:
- id: 主键，自增长整数。
- name: 权限的名称，描述性文字。
- content_type_id: 与权限相关联的内容类型的ID。
- codename: 权限的代码名，通常为英文，用于系统内部识别。

关系:
- 可以与 auth_group_permissions 表关联，定义群组的权限。
与具体的业务模型或内容类型相关联，通过 content_type_id 进行关联。

### lab_user
描述:
lab_user 表用于存储系统用户的基本信息。这包括用户的登录凭据、个人信息以及系统权限和状态。

列:
- user_id: 主键，长整型，自增。用于唯一标识每个用户。
- password: 字符串，最大长度128。存储用户的加密密码。
- last_login: 日期时间字段，允许为空。记录用户最后一次登录的时间。
- is_superuser: 布尔型。标记用户是否为超级用户，拥有所有权限。
- username: 字符串，最大长度150。用户的唯一用户名。
- first_name: 字符串，最大长度150。用户的名字。
- last_name: 字符串，最大长度150。用户的姓氏。
- is_staff: 布尔型。标记用户是否为员工，即是否可以登录到管理后台。
- is_active: 布尔型。标记用户账号是否处于活跃状态。
- date_joined: 日期时间字段。记录用户创建账号的时间。
- user_uid: 字符串，最大长度40。用户的唯一标识符，用于系统内部其他用途。
- tel: 字符串，最大长度40。用户的联系电话。
- user_rfid_uid: 字符串，最大长度40。用户的RFID唯一标识符。
- email: 字符串，最大长度150。用户的电子邮件地址。
- is_deleted: 布尔型。标记用户是否被软删除，即逻辑删除而非物理删除。

索引:
- PRIMARY KEY: user_id作为主键。
- UNIQUE INDEX: username保持唯一性，确保每个用户名在系统中都是独一无二的。



### lab_collection

  **lab_collection** 

列:
- **collection_id** bigint(0)  ,
- **owner_id** bigint(0) ,
- **collection_content** varchar(50) ,
- **collection_description** varchar(50),
- **is_private** tinyint(1) ,
- **created_datetime** datetime(6) ,
主键 collection_id  */}
